# üéØ Formularios en Django
Los formularios en Django son una herramienta fundamental para interactuar con los datos de nuestra aplicaci√≥n web. Permiten a los usuarios enviar informaci√≥n que luego se puede procesar y almacenar en la base de datos. A continuaci√≥n, se presenta una explicaci√≥n detallada sobre la creaci√≥n y manejo de formularios en Django, incluyendo el funcionamiento de los m√©todos GET y POST.

## Creaci√≥n de Formularios en Django
- **Definici√≥n del Formulario**:
    - Django proporciona una clase Form en el m√≥dulo django.forms para definir formularios.
    - Ejemplo de un formulario b√°sico para agregar un curso (`forms.py`):
    ```python 
    from django import forms 
    class CursoFormulario(forms.Form): 
        nombre = forms.CharField(max_length=100) 
        camada = forms.IntegerField()
    ```
- **Creaci√≥n de la Vista**:
    - En el archivo `views.py`, se define una vista que manejar√° el formulario.
    - Ejemplo de vista para manejar el formulario de curso:
    ```python 
    from django.shortcuts import render 
    from .forms import CursoFormulario 

    def cursoFormulario(request): 
        if request.method == 'POST': 
            form = CursoFormulario(request.POST) 
            if form.is_valid(): 
                # Procesar los datos del formulario 
                nombre = form.cleaned_data['nombre'] 
                camada = form.cleaned_data['camada'] 
                # Guardar los datos en la base de datos 
                curso = Curso(nombre=nombre, camada=camada) 
                curso.save() 
                return render(request, 'AppCoder/curso_exito.html') 
            else: 
                form = CursoFormulario() 
                return render(request, 'AppCoder/curso_formulario.html', {'form': form})
    ```

- **Definici√≥n de la URL**:
    - Es necesario registrar la vista en el archivo `urls.py` para que sea accesible desde una URL.
    - Ejemplo de configuraci√≥n de la URL:
    ```python 
    from django.urls import path 
    from . import views
    urlpatterns = [ 
        path('cursoFormulario/', views.cursoFormulario, name='cursoFormulario'), 
    ]
    ```

- **Creaci√≥n del Template**:
    - Se crea una plantilla HTML que renderizar√° el formulario.
    - Ejemplo de plantilla (`curso_formulario.html`):
    ```html 
    <!DOCTYPE html> 
    <html lang="en"> 
        <head> 
            <meta charset="UTF-8"> 
            <title>Formulario - Agregar Curso</title> 
        </head> 
        <body> 
            <h1>Agregar Curso</h1> 
            <form action="/cursoFormulario/" method="post"> 
                {% csrf_token %} {{ form.as_p }} 
                <button type="submit">Enviar</button> 
            </form> 
        </body> 
    </html>
    ```

## Funcionamiento de los M√©todos GET y POST
- **M√©todo GET**:
    - El m√©todo GET se utiliza para solicitar datos de un servidor.
    - En el contexto de formularios, GET se usa principalmente para recuperar datos.
    - Ejemplo de un formulario que usa GET:
    ```html 
    <form action="/buscarCurso/" method="get"> 
        <label for="camada">Camada:</label> 
        <input type="text" id="camada" name="camada"> 
        <button type="submit">Buscar</button> 
    </form>
    ```
- **M√©todo POST**:
    - El m√©todo POST se utiliza para enviar datos al servidor.
    - En el contexto de formularios, POST se usa para enviar datos que se deben procesar, como agregar o modificar registros en la base de datos.
    - Ejemplo de un formulario que usa POST:
    ```html 
    <form action="/cursoFormulario/" method="post"> 
        {% csrf_token %} {{ form.as_p }} 
        <button type="submit">Enviar</button> 
    </form>
    ```

## Procesamiento de Datos en la Vista
- **Manejo del M√©todo POST**:
    - En la vista, se verifica si la solicitud es de tipo POST y se procesa el formulario.
    - Ejemplo de manejo del m√©todo POST en la vista:
    ```python 
    if request.method == 'POST': 
        form = CursoFormulario(request.POST) 
        if form.is_valid(): 
            nombre = form.cleaned_data['nombre'] 
            camada = form.cleaned_data['camada'] 
            # Guardar los datos en la base de datos 
            curso = Curso(nombre=nombre, camada=camada) 
            curso.save() 
            return render(request, 'AppCoder/curso_exito.html')   
    ```
- **Manejo del M√©todo GET**:
    - Si la solicitud es de tipo GET, simplemente se renderiza el formulario vac√≠o.
    - Ejemplo de manejo del m√©todo GET en la vista:
    ```python 
        else: form = CursoFormulario() 
        return render(request, 'AppCoder/curso_formulario.html', {'form': form}) 

## Validaci√≥n de Formularios
- Django proporciona mecanismos integrados para la validaci√≥n de formularios.
- Al llamar a `form.is_valid()`, Django verifica que todos los datos del formulario sean v√°lidos seg√∫n las reglas definidas en el formulario.
- Los datos limpios se pueden acceder mediante `form.cleaned_data`.

## Ejemplo Completo de Formulario
- **Definici√≥n del Formulario** (`forms.py`): 
```python 
from django import forms 
class CursoFormulario(forms.Form): 
    nombre = forms.CharField(max_length=100) 
    camada = forms.IntegerField()
```

- **Definici√≥n de la Vista** (`views.py`): 
```python 
from django.shortcuts import render 
from .forms import CursoFormulario 

def cursoFormulario(request): 
    if request.method == 'POST': 
        form = CursoFormulario(request.POST) 

        if form.is_valid(): 
            nombre = form.cleaned_data['nombre'] 
            camada = form.cleaned_data['camada'] 
            # Guardar los datos en la base de datos 
            curso = Curso(nombre=nombre, camada=camada) 
            curso.save() 
            return render(request, 'AppCoder/curso_exito.html') 
        
        else: 
            form = CursoFormulario() 
            return render(request, 'AppCoder/curso_formulario.html', {'form': form})
```

- **Definici√≥n de la URL** (`urls.py`): 
```python 
from django.urls import path 
from . import views 

urlpatterns = [ path('cursoFormulario/', views.cursoFormulario, name='cursoFormulario'), ]
```

- **Creaci√≥n del Template** (`curso_formulario.html`): 
```html 
<!DOCTYPE html> 
<html lang="en"> 
    <head> 
        <meta charset="UTF-8"> 
        <title>Formulario - Agregar Curso</title> 
    </head> 
    <body> 
        <h1>Agregar Curso</h1> 
        <form action="/cursoFormulario/" method="post"> 
            {% csrf_token %} {{ form.as_p }} 
            <button type="submit">Enviar</button> 
        </form> 
    </body> 
</html>
```

üëâ Con estos pasos, podr√°s crear y manejar formularios en Django de manera eficiente, permitiendo a los usuarios interactuar con los datos de tu aplicaci√≥n web de manera sencilla y segura.

## B√∫squeda con Formularios
Los formularios de b√∫squeda en Django permiten a los usuarios consultar datos almacenados en la base de datos de manera eficiente. A continuaci√≥n, se presenta una gu√≠a detallada sobre c√≥mo crear y manejar formularios de b√∫squeda en Django.

### Creaci√≥n de Formularios de B√∫squeda en Django
- **Definici√≥n del Formulario de B√∫squeda**:
    - Primero, define un formulario que recibir√° los par√°metros de b√∫squeda.
    - Ejemplo de un formulario de b√∫squeda de cursos (`forms.py`):
    ```python 
    from django import forms 
    class BusquedaCursoFormulario(forms.Form): 
        camada = forms.IntegerField(label='Camada')
    ```
- **Creaci√≥n de la Vista para Manejar el Formulario de B√∫squeda**:
    - Define una vista que maneje tanto las solicitudes GET como POST para el formulario de b√∫squeda.
    - Ejemplo de vista para manejar el formulario de b√∫squeda de cursos (views.py):
    ```python 
    from django.shortcuts import render 
    from .forms import BusquedaCursoFormulario 
    from .models import Curso 
    
    def buscarCurso(request): 
        if request.method == 'GET': 
            form = BusquedaCursoFormulario(request.GET) 
            if form.is_valid(): 
                camada = form.cleaned_data['camada'] 
                resultados = Curso.objects.filter(camada=camada) 
                return render(request, 'AppCoder/resultados_busqueda.html', {'resultados': resultados, 'form': form}) 
            else: 
                form = BusquedaCursoFormulario() 
                return render(request, 'AppCoder/buscar_curso.html', {'form': form})
    ```

- **Definici√≥n de la URL para la B√∫squeda**:
    - Registra la vista en el archivo urls.py para que sea accesible desde una URL.
    - Ejemplo de configuraci√≥n de la URL (`urls.py`):
    ```python 
    from django.urls import path 
    from . import views 
    
    urlpatterns = [ path('buscarCurso/', views.buscarCurso, name='buscarCurso'), ]
    ```

- **Creaci√≥n del Template para el Formulario de B√∫squeda**:
    - Crea una plantilla HTML que renderice el formulario de b√∫squeda.
    - Ejemplo de plantilla (`buscar_curso.html`):
    ```html 
    <!DOCTYPE html> 
    <html lang="en"> 
        <head> 
            <meta charset="UTF-8"> 
            <title>Buscar Curso</title> 
        </head> 
        <body> 
            <h1>Buscar Curso por Camada</h1> 
            <form method="get" action="{% url 'buscarCurso' %}"> 
                {{ form.as_p }} 
                <button type="submit">Buscar</button> 
            </form> 
        </body> 
    </html>
    ```

- **Creaci√≥n del Template para Mostrar Resultados**:
    - Crea una plantilla HTML que muestre los resultados de la b√∫squeda.
    - Ejemplo de plantilla (`resultados_busqueda.html`):
    ```html 
    <!DOCTYPE html> 
    <html lang="en"> 
        <head> 
            <meta charset="UTF-8"> 
            <title>Resultados de B√∫squeda</title> 
        </head> 
        
        <body> 
            <h1>Resultados de B√∫squeda</h1> 
                {% if resultados %} 
                    <ul> {% for curso in resultados %} 
                        <li>{{ curso.nombre }} - Camada: {{ curso.camada }}</li> 
                    {% endfor %} 
                    </ul> 
                {% else %} 
                    <p>No se encontraron resultados para la camada especificada.</p> 
                {% endif %} 
            <a href="{% url 'buscarCurso' %}">Nueva B√∫squeda</a> 
        </body> 
    </html>
    ```

### Funcionamiento del Formulario de B√∫squeda
- **M√©todo GET para B√∫squeda**:
    - El m√©todo GET se utiliza para solicitar datos del servidor. En el contexto de formularios de b√∫squeda, GET se usa para enviar los par√°metros de b√∫squeda.
    - Ejemplo de formulario que usa GET:
    ```html 
    <form method="get" action="{% url 'buscarCurso' %}"> 
        {{ form.as_p }}     
        <button type="submit">Buscar</button> 
    </form>
    ```
- **Procesamiento de Datos en la Vista**:
    - La vista verifica si la solicitud es de tipo GET y procesa el formulario.
    - Ejemplo de manejo del m√©todo GET en la vista (`views.py`):
    ```python 
    if request.method == 'GET': 
        form = BusquedaCursoFormulario(request.GET) 
        if form.is_valid(): 
            camada = form.cleaned_data['camada'] 
            resultados = Curso.objects.filter(camada=camada) 
            return render(request, 'AppCoder/resultados_busqueda.html', {'resultados': resultados, 'form': form}) 
        else: 
            form = BusquedaCursoFormulario() 
            return render(request, 'AppCoder/buscar_curso.html', {'form': form})
    ```

### Ejemplo Completo de B√∫squeda con Formularios
- **Definici√≥n del Formulario** (`forms.py`): 
```python 
from django import forms

class BusquedaCursoFormulario(forms.Form): 
    camada = forms.IntegerField(label='Camada')
```
- **Definici√≥n de la Vista** (`views.py`): 
```python 
from django.shortcuts import render 
from .forms import BusquedaCursoFormulario 
from .models import Curso 

def buscarCurso(request): 
    if request.method == 'GET': 
        form = BusquedaCursoFormulario(request.GET) 
        if form.is_valid(): 
            camada = form.cleaned_data['camada'] 
            resultados = Curso.objects.filter(camada=camada) 
            return render(request, 'AppCoder/resultados_busqueda.html', {'resultados': resultados, 'form': form}) 
        else: 
            form = BusquedaCursoFormulario() 
            return render(request, 'AppCoder/buscar_curso.html', {'form': form})
```

- Creaci√≥n del Template para el Formulario de B√∫squeda (`buscar_curso.html`): 
```html 
<!DOCTYPE html> 
<html lang="en"> 
    <head> 
        <meta charset="UTF-8"> 
        <title>Buscar Curso</title> 
    </head> 
    
    <body> 
        <h1>Buscar Curso por Camada</h1> 
        <form method="get" action="{% url 'buscarCurso' %}"> 
            {{ form.as_p }} 
            <button type="submit">Buscar</button> 
        </form> 
    </body> 
</html>
```

- **Creaci√≥n del Template para Mostrar Resultados** (`resultados_busqueda.html`): 
```html 
<!DOCTYPE html> 
<html lang="en"> 
    <head> 
        <meta charset="UTF-8"> 
        <title>Resultados de B√∫squeda</title> 
    </head> 
    <body> 
        <h1>Resultados de B√∫squeda</h1> 
            {% if resultados %} 
            <ul> 
                {% for curso in resultados %} 
                <li>{{ curso.nombre }} - Camada: {{ curso.camada }}</li> 
                {% endfor %}
            </ul> 
            {% else %} 
                <p>No se encontraron resultados para la camada especificada.</p> 
            {% endif %} 
            <a href="{% url 'buscarCurso' %}">Nueva B√∫squeda</a> 
        </body> 
    </html>
```

üëâ Con estos pasos, podr√°s crear y manejar formularios de b√∫squeda en Django, permitiendo a los usuarios consultar datos en la base de datos de manera eficiente y obtener los resultados deseados.